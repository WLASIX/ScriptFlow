# ScriptFlow - TODO

### P0: Базовая IDE

- [x] Разделена логика по контроллерам (`editor`, `runtime`, `ui`).
- [x] Редактор на `CodeView` с базовой подсветкой Python.
- [x] Отображение имени файла и dirty-метки (`*`) в тулбаре.
- [x] Открытие файлов через SAF `OpenDocument` + persistable URI permissions.
- [x] Сохранение через SAF `CreateDocument` с предложенным именем.
- [x] FAB-кнопка запуска/остановки с переключением иконки и цвета.
- [x] Нижняя консоль с типами сообщений (`system`, `output`, `error`).

### P1: Python runtime

- [x] Интегрирован Chaquopy (`com.chaquo.python`).
- [x] Добавлен `PyApplication` в `AndroidManifest.xml`.
- [x] Выполнение Python-кода из редактора в отдельном потоке.
- [x] Перехват `stdout`/`stderr` и traceback в консоль приложения.

## P1: Ближайшие задачи

- [x] Сделать надежную отмену выполнения Python-скрипта.
- [ ] Добавить тайм-аут и корректный статус завершения (`timeout`, `stopped`, `error`).
- [x] Реализовать потоковый вывод в консоль (строка за строкой во время выполнения).
- [ ] Добавить автопрокрутку и действия консоли: очистить, копировать, экспортировать.
- [ ] Реализовать быстрый `Save` в уже открытый URI (без постоянного `CreateDocument`).
- [ ] Подключить рабочие действия к `Undo`, `Redo`, `Search`.
- [ ] Добавить экран настроек редактора (шрифт, тема, перенос, отступы).

## P2: Расширение функциональности

- [ ] Accessibility-прототипы (`click`, `swipe`) через отдельный `AccessibilityService`.
- [ ] Инструменты поверх UI: скриншот, пипетка, просмотр координат.
- [ ] Улучшенная подсветка Python (не только regex).

## P3: Долгосрочно

- [ ] Отладка: точки остановки и пошаговое выполнение.
- [ ] Поддержка модулей/зависимостей Python на уровне проекта.
